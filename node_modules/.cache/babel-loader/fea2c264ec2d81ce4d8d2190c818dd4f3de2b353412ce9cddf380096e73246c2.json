{"ast":null,"code":"// type FetchPizzasArgs = Record<string, string>;//когда всё строчки\n\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport pickBy from 'lodash/pickBy';\nimport identity from 'lodash/identity';\nexport const fetchPizzas = createAsyncThunk(\"pizza/fetchPizzasStatus\", async params => {\n  const {\n    sortBy,\n    order,\n    category,\n    search,\n    currentPage\n  } = params;\n  const {\n    data\n  } = await axios.get(`https://626d16545267c14d5677d9c2.mockapi.io/items`, {\n    params: pickBy({\n      page: currentPage,\n      limit: 4,\n      category,\n      sortBy,\n      order,\n      search\n    }, identity)\n  });\n\n  // const { data } = await axios.get<Pizza[]>(\n  //   `https://63a2fd389704d18da08257f0.mockapi.io/items?page=${currentPage}&limit=4&${category}&sortBy=${sortBy}&order=${order}${search}`\n  // );\n  return data;\n  // if (data.length === 0) {\n  //   thunkAPI.rejectWithValue(\"Пиццы пустые\");\n  // }\n  // return thunkAPI.fulfillWithValue(data);\n});","map":{"version":3,"names":["createAsyncThunk","axios","pickBy","identity","fetchPizzas","params","sortBy","order","category","search","currentPage","data","get","page","limit"],"sources":["C:/DS/programming/react-pizza/src/redux/pizza/asyncActions.ts"],"sourcesContent":["\r\n// type FetchPizzasArgs = Record<string, string>;//когда всё строчки\r\n\r\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nimport { Pizza, SearchPizzaParams } from \"./types\";\r\nimport pickBy from 'lodash/pickBy';\r\nimport identity from 'lodash/identity';\r\n\r\nexport const fetchPizzas = createAsyncThunk<Pizza[], SearchPizzaParams>(\r\n    \"pizza/fetchPizzasStatus\",\r\n    async (params) => {\r\n      const { sortBy, order, category, search, currentPage } = params;\r\n      const { data } = await axios.get<Pizza[]>(`https://626d16545267c14d5677d9c2.mockapi.io/items`, {\r\n      params: pickBy(\r\n        {\r\n          page: currentPage,\r\n          limit: 4,\r\n          category,\r\n          sortBy,\r\n          order,\r\n          search,\r\n        },\r\n        identity,\r\n      ),\r\n    });\r\n      \r\n      // const { data } = await axios.get<Pizza[]>(\r\n      //   `https://63a2fd389704d18da08257f0.mockapi.io/items?page=${currentPage}&limit=4&${category}&sortBy=${sortBy}&order=${order}${search}`\r\n      // );\r\n      return data;\r\n      // if (data.length === 0) {\r\n      //   thunkAPI.rejectWithValue(\"Пиццы пустые\");\r\n      // }\r\n      // return thunkAPI.fulfillWithValue(data);\r\n    }\r\n  );"],"mappings":"AACA;;AAEA,SAASA,gBAAgB,QAAQ,kBAAkB;AACnD,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAOC,MAAM,MAAM,eAAe;AAClC,OAAOC,QAAQ,MAAM,iBAAiB;AAEtC,OAAO,MAAMC,WAAW,GAAGJ,gBAAgB,CACvC,yBAAyB,EACzB,MAAOK,MAAM,IAAK;EAChB,MAAM;IAAEC,MAAM;IAAEC,KAAK;IAAEC,QAAQ;IAAEC,MAAM;IAAEC;EAAY,CAAC,GAAGL,MAAM;EAC/D,MAAM;IAAEM;EAAK,CAAC,GAAG,MAAMV,KAAK,CAACW,GAAG,CAAW,mDAAkD,EAAE;IAC/FP,MAAM,EAAEH,MAAM,CACZ;MACEW,IAAI,EAAEH,WAAW;MACjBI,KAAK,EAAE,CAAC;MACRN,QAAQ;MACRF,MAAM;MACNC,KAAK;MACLE;IACF,CAAC,EACDN,QAAQ;EAEZ,CAAC,CAAC;;EAEA;EACA;EACA;EACA,OAAOQ,IAAI;EACX;EACA;EACA;EACA;AACF,CAAC,CACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}