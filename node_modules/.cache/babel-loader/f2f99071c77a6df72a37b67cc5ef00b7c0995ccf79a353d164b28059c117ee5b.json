{"ast":null,"code":"import _slicedToArray from\"C:/DS/programming/react-pizza/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import debounce from\"lodash.debounce\";import{SearchContext}from\"../../App\";import styles from\"./Search.module.scss\";import{useDispatch}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(){var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1];var dispatch=useDispatch();var _React$useContext=React.useContext(SearchContext),setSerachValue=_React$useContext.setSerachValue;//\nvar inputRef=React.useRef(null);var onClickClear=function onClickClear(){var _inputRef$current;// dispatch(\nsetSerachValue('');// );\nsetValue('');(_inputRef$current=inputRef.current)===null||_inputRef$current===void 0?void 0:_inputRef$current.focus();};var updateSearchValue=React.useCallback(debounce(function(str){// dispatch(\nsetSerachValue(str);// );\n},400),[]);var onChangeInput=function onChangeInput(event){setValue(event.target.value);updateSearchValue(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:styles.root,children:[/*#__PURE__*/_jsxs(\"svg\",{className:styles.icon,height:\"22\",viewBox:\"0 0 512 512\",width:\"22\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"title\",{}),/*#__PURE__*/_jsx(\"path\",{d:\"M464,428,339.92,303.9a160.48,160.48,0,0,0,30.72-94.58C370.64,120.37,298.27,48,209.32,48S48,120.37,48,209.32s72.37,161.32,161.32,161.32a160.48,160.48,0,0,0,94.58-30.72L428,464ZM209.32,319.69A110.38,110.38,0,1,1,319.69,209.32,110.5,110.5,0,0,1,209.32,319.69Z\"})]}),/*#__PURE__*/_jsx(\"input\",{ref:inputRef,value:value,onChange:onChangeInput,className:styles.input,placeholder:\"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u0438\\u0446\\u0446\\u044B...\"}),value&&/*#__PURE__*/_jsxs(\"svg\",{className:styles.clearIcon,onClick:onClickClear,height:\"18\",viewBox:\"0 0 48 48\",width:\"18\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M38 12.83l-2.83-2.83-11.17 11.17-11.17-11.17-2.83 2.83 11.17 11.17-11.17 11.17 2.83 2.83 11.17-11.17 11.17 11.17 2.83-2.83-11.17-11.17z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M0 0h48v48h-48z\",fill:\"none\"})]})]});};export default Search;","map":{"version":3,"names":["React","debounce","SearchContext","styles","useDispatch","Search","useState","value","setValue","dispatch","useContext","setSerachValue","inputRef","useRef","onClickClear","current","focus","updateSearchValue","useCallback","str","onChangeInput","event","target","root","icon","input","clearIcon"],"sources":["C:/DS/programming/react-pizza/src/components/Search/index.tsx"],"sourcesContent":["import React from \"react\";\r\nimport debounce from \"lodash.debounce\";\r\n\r\nimport { SearchContext } from \"../../App\";\r\nimport styles from \"./Search.module.scss\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport  setSerachValue  from '../../redux/filter/slice';\r\n\r\nconst Search: React.FC= () => {\r\n  const [value, setValue] = React.useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const {setSerachValue}  = React.useContext(SearchContext);//\r\n  const inputRef = React.useRef<HTMLInputElement>(null);\r\n\r\n  const onClickClear = () => {\r\n    // dispatch(\r\n      setSerachValue('')\r\n    // );\r\n    setValue('')\r\n    inputRef.current?.focus();\r\n  };\r\n\r\n  const updateSearchValue = React.useCallback(\r\n    debounce((str) => {\r\n      // dispatch(\r\n        setSerachValue(str)\r\n        // );\r\n    }, 400),\r\n    []\r\n  );\r\n\r\n  const onChangeInput = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setValue(event.target.value);\r\n    updateSearchValue(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.root}>\r\n      <svg\r\n        className={styles.icon}\r\n        height=\"22\"\r\n        viewBox=\"0 0 512 512\"\r\n        width=\"22\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n      >\r\n        <title />\r\n        <path d=\"M464,428,339.92,303.9a160.48,160.48,0,0,0,30.72-94.58C370.64,120.37,298.27,48,209.32,48S48,120.37,48,209.32s72.37,161.32,161.32,161.32a160.48,160.48,0,0,0,94.58-30.72L428,464ZM209.32,319.69A110.38,110.38,0,1,1,319.69,209.32,110.5,110.5,0,0,1,209.32,319.69Z\" />\r\n      </svg>\r\n      <input\r\n        ref={inputRef}\r\n        value={value}\r\n        onChange={onChangeInput}\r\n        className={styles.input}\r\n        placeholder=\"Поиск пиццы...\"\r\n      />\r\n      {value && (\r\n        <svg\r\n          className={styles.clearIcon}\r\n          onClick={onClickClear}\r\n          height=\"18\"\r\n          viewBox=\"0 0 48 48\"\r\n          width=\"18\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n          <path d=\"M38 12.83l-2.83-2.83-11.17 11.17-11.17-11.17-2.83 2.83 11.17 11.17-11.17 11.17 2.83 2.83 11.17-11.17 11.17 11.17 2.83-2.83-11.17-11.17z\" />\r\n          <path d=\"M0 0h48v48h-48z\" fill=\"none\" />\r\n        </svg>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n"],"mappings":"mHAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,SAAQ,KAAM,iBAAiB,CAEtC,OAASC,aAAa,KAAQ,WAAW,CACzC,MAAOC,OAAM,KAAM,sBAAsB,CACzC,OAASC,WAAW,KAAQ,aAAa,CAAC,wFAG1C,GAAMC,OAAgB,CAAE,QAAlBA,OAAgB,EAAQ,CAC5B,oBAA0BL,KAAK,CAACM,QAAQ,CAAC,EAAE,CAAC,oDAArCC,KAAK,qBAAEC,QAAQ,qBACtB,GAAMC,SAAQ,CAAGL,WAAW,EAAE,CAC9B,sBAA0BJ,KAAK,CAACU,UAAU,CAACR,aAAa,CAAC,CAAlDS,cAAc,mBAAdA,cAAc,CAAqC;AAC1D,GAAMC,SAAQ,CAAGZ,KAAK,CAACa,MAAM,CAAmB,IAAI,CAAC,CAErD,GAAMC,aAAY,CAAG,QAAfA,aAAY,EAAS,uBACzB;AACEH,cAAc,CAAC,EAAE,CAAC,CACpB;AACAH,QAAQ,CAAC,EAAE,CAAC,CACZ,mBAAAI,QAAQ,CAACG,OAAO,4CAAhB,kBAAkBC,KAAK,EAAE,CAC3B,CAAC,CAED,GAAMC,kBAAiB,CAAGjB,KAAK,CAACkB,WAAW,CACzCjB,QAAQ,CAAC,SAACkB,GAAG,CAAK,CAChB;AACER,cAAc,CAACQ,GAAG,CAAC,CACnB;AACJ,CAAC,CAAE,GAAG,CAAC,CACP,EAAE,CACH,CAED,GAAMC,cAAa,CAAG,QAAhBA,cAAa,CAAIC,KAA0C,CAAK,CACpEb,QAAQ,CAACa,KAAK,CAACC,MAAM,CAACf,KAAK,CAAC,CAC5BU,iBAAiB,CAACI,KAAK,CAACC,MAAM,CAACf,KAAK,CAAC,CACvC,CAAC,CAED,mBACE,aAAK,SAAS,CAAEJ,MAAM,CAACoB,IAAK,wBAC1B,aACE,SAAS,CAAEpB,MAAM,CAACqB,IAAK,CACvB,MAAM,CAAC,IAAI,CACX,OAAO,CAAC,aAAa,CACrB,KAAK,CAAC,IAAI,CACV,KAAK,CAAC,4BAA4B,wBAElC,gBAAS,cACT,aAAM,CAAC,CAAC,kQAAkQ,EAAG,GACzQ,cACN,cACE,GAAG,CAAEZ,QAAS,CACd,KAAK,CAAEL,KAAM,CACb,QAAQ,CAAEa,aAAc,CACxB,SAAS,CAAEjB,MAAM,CAACsB,KAAM,CACxB,WAAW,CAAC,kEAAgB,EAC5B,CACDlB,KAAK,eACJ,aACE,SAAS,CAAEJ,MAAM,CAACuB,SAAU,CAC5B,OAAO,CAAEZ,YAAa,CACtB,MAAM,CAAC,IAAI,CACX,OAAO,CAAC,WAAW,CACnB,KAAK,CAAC,IAAI,CACV,KAAK,CAAC,4BAA4B,wBAElC,aAAM,CAAC,CAAC,yIAAyI,EAAG,cACpJ,aAAM,CAAC,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,EAAG,GAE3C,GACG,CAEV,CAAC,CAED,cAAeT,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}