{"ast":null,"code":"import _regeneratorRuntime from\"C:/DS/programming/react-pizza/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/DS/programming/react-pizza/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";// type FetchPizzasArgs = Record<string, string>;//когда всё строчки\nimport{createAsyncThunk}from\"@reduxjs/toolkit\";import axios from\"axios\";export var fetchPizzas=createAsyncThunk(\"pizza/fetchPizzasStatus\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(params){var sortBy,order,category,search,currentPage,_yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:sortBy=params.sortBy,order=params.order,category=params.category,search=params.search,currentPage=params.currentPage;//   const { data } = await axios.get<Pizza[]>(`https://63a2fd389704d18da08257f0.mockapi.io/items`, {\n//   params: pickBy(\n//     {\n//       page: currentPage,\n//       limit: 4,\n//       category,\n//       sortBy,\n//       order,\n//       search,\n//     },\n//     identity,\n//   ),\n// });\n_context.next=3;return axios.get(\"https://63a2fd389704d18da08257f0.mockapi.io/items?page=\".concat(currentPage,\"&limit=4&\").concat(category,\"&sortBy=\").concat(sortBy,\"&order=\").concat(order).concat(search));case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;return _context.abrupt(\"return\",data);case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());","map":{"version":3,"names":["createAsyncThunk","axios","fetchPizzas","params","sortBy","order","category","search","currentPage","get","data"],"sources":["C:/DS/programming/react-pizza/src/redux/pizza/asyncActions.ts"],"sourcesContent":["\r\n// type FetchPizzasArgs = Record<string, string>;//когда всё строчки\r\n\r\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nimport { Pizza, SearchPizzaParams } from \"./types\";\r\nimport pickBy from 'lodash/pickBy';\r\nimport identity from 'lodash/identity';\r\n\r\nexport const fetchPizzas = createAsyncThunk<Pizza[], SearchPizzaParams>(\r\n    \"pizza/fetchPizzasStatus\",\r\n    async (params) => {\r\n      const { sortBy, order, category, search, currentPage } = params;\r\n    //   const { data } = await axios.get<Pizza[]>(`https://63a2fd389704d18da08257f0.mockapi.io/items`, {\r\n    //   params: pickBy(\r\n    //     {\r\n    //       page: currentPage,\r\n    //       limit: 4,\r\n    //       category,\r\n    //       sortBy,\r\n    //       order,\r\n    //       search,\r\n    //     },\r\n    //     identity,\r\n    //   ),\r\n    // });\r\n      \r\n      const { data } = await axios.get<Pizza[]>(\r\n        `https://63a2fd389704d18da08257f0.mockapi.io/items?page=${currentPage}&limit=4&${category}&sortBy=${sortBy}&order=${order}${search}`\r\n      );\r\n      return data;\r\n      // if (data.length === 0) {\r\n      //   thunkAPI.rejectWithValue(\"Пиццы пустые\");\r\n      // }\r\n      // return thunkAPI.fulfillWithValue(data);\r\n    }\r\n  );"],"mappings":"sPACA;AAEA,OAASA,gBAAgB,KAAQ,kBAAkB,CACnD,MAAOC,MAAK,KAAM,OAAO,CAKzB,MAAO,IAAMC,YAAW,CAAGF,gBAAgB,CACvC,yBAAyB,4FACzB,iBAAOG,MAAM,uLACHC,MAAM,CAA2CD,MAAM,CAAvDC,MAAM,CAAEC,KAAK,CAAoCF,MAAM,CAA/CE,KAAK,CAAEC,QAAQ,CAA0BH,MAAM,CAAxCG,QAAQ,CAAEC,MAAM,CAAkBJ,MAAM,CAA9BI,MAAM,CAAEC,WAAW,CAAKL,MAAM,CAAtBK,WAAW,CACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA,sBAEyBP,MAAK,CAACQ,GAAG,kEAC4BD,WAAW,qBAAYF,QAAQ,oBAAWF,MAAM,mBAAUC,KAAK,SAAGE,MAAM,EACnI,uCAFOG,IAAI,kBAAJA,IAAI,iCAGLA,IAAI,wDAKZ,+DACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}