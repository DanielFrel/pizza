{"ast":null,"code":"// type FetchPizzasArgs = Record<string, string>;//когда всё строчки\n\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nexport const fetchPizzas = createAsyncThunk(\"pizza/fetchPizzasStatus\", async params => {\n  const {\n    sortBy,\n    order,\n    category,\n    search,\n    currentPage\n  } = params;\n  //   const { data } = await axios.get<Pizza[]>(`https://63a2fd389704d18da08257f0.mockapi.io/items`, {\n  //   params: pickBy(\n  //     {\n  //       page: currentPage,\n  //       limit: 4,\n  //       category,\n  //       sortBy,\n  //       order,\n  //       search,\n  //     },\n  //     identity,\n  //   ),\n  // });\n\n  const {\n    data\n  } = await axios.get(`https://63a2fd389704d18da08257f0.mockapi.io/items?page=${currentPage}&limit=4&${category}&sortBy=${sortBy}&order=${order}${search}`);\n  return data;\n  // if (data.length === 0) {\n  //   thunkAPI.rejectWithValue(\"Пиццы пустые\");\n  // }\n  // return thunkAPI.fulfillWithValue(data);\n});","map":{"version":3,"names":["createAsyncThunk","axios","fetchPizzas","params","sortBy","order","category","search","currentPage","data","get"],"sources":["C:/DS/programming/react-pizza/src/redux/pizza/asyncActions.ts"],"sourcesContent":["\r\n// type FetchPizzasArgs = Record<string, string>;//когда всё строчки\r\n\r\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nimport { Pizza, SearchPizzaParams } from \"./types\";\r\nimport pickBy from 'lodash/pickBy';\r\nimport identity from 'lodash/identity';\r\n\r\nexport const fetchPizzas = createAsyncThunk<Pizza[], SearchPizzaParams>(\r\n    \"pizza/fetchPizzasStatus\",\r\n    async (params) => {\r\n      const { sortBy, order, category, search, currentPage } = params;\r\n    //   const { data } = await axios.get<Pizza[]>(`https://63a2fd389704d18da08257f0.mockapi.io/items`, {\r\n    //   params: pickBy(\r\n    //     {\r\n    //       page: currentPage,\r\n    //       limit: 4,\r\n    //       category,\r\n    //       sortBy,\r\n    //       order,\r\n    //       search,\r\n    //     },\r\n    //     identity,\r\n    //   ),\r\n    // });\r\n      \r\n      const { data } = await axios.get<Pizza[]>(\r\n        `https://63a2fd389704d18da08257f0.mockapi.io/items?page=${currentPage}&limit=4&${category}&sortBy=${sortBy}&order=${order}${search}`\r\n      );\r\n      return data;\r\n      // if (data.length === 0) {\r\n      //   thunkAPI.rejectWithValue(\"Пиццы пустые\");\r\n      // }\r\n      // return thunkAPI.fulfillWithValue(data);\r\n    }\r\n  );"],"mappings":"AACA;;AAEA,SAASA,gBAAgB,QAAQ,kBAAkB;AACnD,OAAOC,KAAK,MAAM,OAAO;AAKzB,OAAO,MAAMC,WAAW,GAAGF,gBAAgB,CACvC,yBAAyB,EACzB,MAAOG,MAAM,IAAK;EAChB,MAAM;IAAEC,MAAM;IAAEC,KAAK;IAAEC,QAAQ;IAAEC,MAAM;IAAEC;EAAY,CAAC,GAAGL,MAAM;EACjE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEE,MAAM;IAAEM;EAAK,CAAC,GAAG,MAAMR,KAAK,CAACS,GAAG,CAC7B,0DAAyDF,WAAY,YAAWF,QAAS,WAAUF,MAAO,UAASC,KAAM,GAAEE,MAAO,EAAC,CACrI;EACD,OAAOE,IAAI;EACX;EACA;EACA;EACA;AACF,CAAC,CACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}