{"ast":null,"code":"import _objectSpread from\"C:/DS/programming/react-pizza/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from\"@reduxjs/toolkit\";import{calcTotalPrice}from\"../../utils/calcTotalPrice\";import{getCartFromLS}from\"../../utils/getCartFromLS\";var initialState=getCartFromLS();var cartSlice=createSlice({name:\"cart\",initialState:initialState,reducers:{addItem:function addItem(state,action){var findItem=state.items.find(function(obj){return obj.id===action.payload.id;});if(findItem){findItem.count++;}else{state.items.push(_objectSpread(_objectSpread({},action.payload),{},{count:1}));}state.totalPrice=calcTotalPrice(state.items);},minusItem:function minusItem(state,action){var findItem=state.items.find(function(obj){return obj.id===action.payload;});if(findItem){findItem.count--;state.totalPrice=state.items.reduce(function(sum,obj){return state.totalPrice-obj.price;},0);}},removeItem:function removeItem(state,action){state.items=state.items.filter(function(obj){return obj.id!==action.payload;});state.totalPrice=state.items.reduce(function(sum,obj){return sum-obj.price*obj.count;},0);},clearItem:function clearItem(state){state.items=[];state.totalPrice=0;}}});var _cartSlice$actions=cartSlice.actions,addItem=_cartSlice$actions.addItem,removeItem=_cartSlice$actions.removeItem,clearItem=_cartSlice$actions.clearItem,minusItem=_cartSlice$actions.minusItem;export{addItem,removeItem,clearItem,minusItem};export default cartSlice.reducer;","map":{"version":3,"names":["createSlice","calcTotalPrice","getCartFromLS","initialState","cartSlice","name","reducers","addItem","state","action","findItem","items","find","obj","id","payload","count","push","totalPrice","minusItem","reduce","sum","price","removeItem","filter","clearItem","actions","reducer"],"sources":["C:/DS/programming/react-pizza/src/redux/cart/slice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { calcTotalPrice } from \"../../utils/calcTotalPrice\";\r\nimport { getCartFromLS } from \"../../utils/getCartFromLS\";\r\nimport { CartItem, CartSliceState } from \"./types\";\r\n\r\nconst initialState: CartSliceState = getCartFromLS();\r\n\r\nconst cartSlice = createSlice({\r\n  name: \"cart\",\r\n  initialState,\r\n  reducers: {\r\n    addItem(state, action: PayloadAction<CartItem>) {\r\n      const findItem = state.items.find((obj) => obj.id === action.payload.id);\r\n\r\n      if (findItem) {\r\n        findItem.count++;\r\n      } else {\r\n        state.items.push({\r\n          ...action.payload,\r\n          count: 1,\r\n        });\r\n      }\r\n      state.totalPrice = calcTotalPrice(state.items);\r\n    },\r\n    minusItem(state, action: PayloadAction<string>) {\r\n      const findItem = state.items.find((obj) => obj.id === action.payload);\r\n      if (findItem) {\r\n        findItem.count--;\r\n        state.totalPrice = state.items.reduce((sum, obj) => {\r\n          return state.totalPrice - obj.price;\r\n        }, 0);\r\n      }\r\n    },\r\n    removeItem(state, action: PayloadAction<string>) {\r\n      state.items = state.items.filter((obj) => obj.id !== action.payload);\r\n      state.totalPrice = state.items.reduce((sum, obj) => {\r\n        return sum - obj.price * obj.count;\r\n      }, 0);\r\n    },\r\n    clearItem(state) {\r\n      state.items = [];\r\n      state.totalPrice = 0;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { addItem, removeItem, clearItem, minusItem } = cartSlice.actions;\r\n\r\nexport default cartSlice.reducer;\r\n"],"mappings":"kHAAA,OAASA,WAAW,KAAuB,kBAAkB,CAC7D,OAASC,cAAc,KAAQ,4BAA4B,CAC3D,OAASC,aAAa,KAAQ,2BAA2B,CAGzD,GAAMC,aAA4B,CAAGD,aAAa,EAAE,CAEpD,GAAME,UAAS,CAAGJ,WAAW,CAAC,CAC5BK,IAAI,CAAE,MAAM,CACZF,YAAY,CAAZA,YAAY,CACZG,QAAQ,CAAE,CACRC,OAAO,kBAACC,KAAK,CAAEC,MAA+B,CAAE,CAC9C,GAAMC,SAAQ,CAAGF,KAAK,CAACG,KAAK,CAACC,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,EAAE,GAAKL,MAAM,CAACM,OAAO,CAACD,EAAE,GAAC,CAExE,GAAIJ,QAAQ,CAAE,CACZA,QAAQ,CAACM,KAAK,EAAE,CAClB,CAAC,IAAM,CACLR,KAAK,CAACG,KAAK,CAACM,IAAI,gCACXR,MAAM,CAACM,OAAO,MACjBC,KAAK,CAAE,CAAC,GACR,CACJ,CACAR,KAAK,CAACU,UAAU,CAAGjB,cAAc,CAACO,KAAK,CAACG,KAAK,CAAC,CAChD,CAAC,CACDQ,SAAS,oBAACX,KAAK,CAAEC,MAA6B,CAAE,CAC9C,GAAMC,SAAQ,CAAGF,KAAK,CAACG,KAAK,CAACC,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,EAAE,GAAKL,MAAM,CAACM,OAAO,GAAC,CACrE,GAAIL,QAAQ,CAAE,CACZA,QAAQ,CAACM,KAAK,EAAE,CAChBR,KAAK,CAACU,UAAU,CAAGV,KAAK,CAACG,KAAK,CAACS,MAAM,CAAC,SAACC,GAAG,CAAER,GAAG,CAAK,CAClD,MAAOL,MAAK,CAACU,UAAU,CAAGL,GAAG,CAACS,KAAK,CACrC,CAAC,CAAE,CAAC,CAAC,CACP,CACF,CAAC,CACDC,UAAU,qBAACf,KAAK,CAAEC,MAA6B,CAAE,CAC/CD,KAAK,CAACG,KAAK,CAAGH,KAAK,CAACG,KAAK,CAACa,MAAM,CAAC,SAACX,GAAG,QAAKA,IAAG,CAACC,EAAE,GAAKL,MAAM,CAACM,OAAO,GAAC,CACpEP,KAAK,CAACU,UAAU,CAAGV,KAAK,CAACG,KAAK,CAACS,MAAM,CAAC,SAACC,GAAG,CAAER,GAAG,CAAK,CAClD,MAAOQ,IAAG,CAAGR,GAAG,CAACS,KAAK,CAAGT,GAAG,CAACG,KAAK,CACpC,CAAC,CAAE,CAAC,CAAC,CACP,CAAC,CACDS,SAAS,oBAACjB,KAAK,CAAE,CACfA,KAAK,CAACG,KAAK,CAAG,EAAE,CAChBH,KAAK,CAACU,UAAU,CAAG,CAAC,CACtB,CACF,CACF,CAAC,CAAC,CAEK,uBAAsDd,SAAS,CAACsB,OAAO,CAA/DnB,OAAO,oBAAPA,OAAO,CAAEgB,UAAU,oBAAVA,UAAU,CAAEE,SAAS,oBAATA,SAAS,CAAEN,SAAS,oBAATA,SAAS,CAAuB,+CAE/E,cAAef,UAAS,CAACuB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}